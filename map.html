<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/map/style.css" />
    <title>Map</title>
  </head>
  <body>
    <div id="map"></div>

    <script
      async
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcLjda4GaQqHCh7jHSCV23j7rqFJpv9HE&callback=initMap"
    ></script>
    <script>
      let map;

      // Initialize and add the map
      function initMap() {
        // The location of Uluru
        const centerPosition = { lat: 51.0607, lng: -1.3132 };
        // The map, centered at Winchester roughly
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 8,
          center: centerPosition,
        });

        addMarkers();
      }

      let data = [
        {
          position: { lat: 50.7192, lng: -1.8808 },
          title: '10th January - First trip to Bournemouth',
        },
        {
          position: { lat: 50.921382, lng: -1.209897 },
          title: 'First uni hotel sleepover',
        },
        {
          position: { lat: 50.885162, lng: -1.245668 },
          title: 'First uni hotel sleepover - went for dinner',
        },
        {
          position: { lat: 51.06, lng: -1.3277 },
          title: 'University of Winchester',
        },
        {
          position: { lat: 53.40124, lng: -1.3277 },
          title: 'Sheffield BUCS',
        },
      ];

      function addMarkers() {
        for (let i = 0; i < data.length; i++) {
          const marker = new google.maps.Marker({
            position: data[i].position,
            map,
            title: data[i].title,
          });

          const infoWindow = new google.maps.InfoWindow({
            content: data[i].title,
          });

          marker.addListener('click', () => {
            infoWindow.open({
              anchor: marker,
              map,
              shouldFocus: false,
            });
          });
        }
      }
    </script>
  </body>
</html>
